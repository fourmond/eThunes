<?xml version="1.0" encoding="UTF-8"?>
<collection-definition>
  <document-type name="avis">
  </document-type>
  <ruby-class-code module-name="Assedic">
    <code><![CDATA[
# TODO: this is nice, but we need global functions for parsing time,
# that should be defined globally.
module Assedic
  def self.parse_avis(str)
    res = {}
    if str =~ /mois\s+de\s+(\S+)\s+(\d+)/
      puts "Mois : #$1 -- annee: #$2"
    end
    if str =~ /le\s+(\d+)\/(\d+)\/(\d+)\s+\S+\s+(\d+):(\d+)/
      res['base'] = Time.local($3.to_i + 2000, $2.to_i, $1.to_i, $4.to_i, $5.to_i)
    end
    return res
  end
end
]]>
    </code>
  </ruby-class-code>
</collection-definition>
